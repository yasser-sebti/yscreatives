import{u as d,a as m}from"./index-C6jsZJ4I.js";import{u as A,g as e}from"./gsap-vendor-DwQni7f4.js";const E=r=>{const{isAnimating:i,isPendingReveal:l}=d();A(()=>{if(!r.current)return;const c=e.utils.toArray("[data-ys-reveal='text']",r.current),y=e.utils.toArray("[data-ys-reveal='image']",r.current),g=e.utils.toArray("[data-ys-reveal='fade-up']",r.current),p=e.utils.toArray("[data-ys-reveal='scale-x']",r.current),u=e.utils.toArray("[data-ys-reveal='fade']",r.current),o=[];if(e.set(g,{opacity:0,y:30}),e.set(p,{scaleX:0,transformOrigin:"left"}),e.set(u,{opacity:0}),e.set(y,{clipPath:"inset(100% 0% 0% 0%)"}),c.forEach(t=>{const a=new m(t,{type:"lines",linesClass:"ys-reveal-line"});o.push(a),e.set(a.lines,{yPercent:100,opacity:0})}),!(i||l))return c.forEach((t,a)=>{if(t.getAttribute("data-ys-skip")==="true")return;const n=parseFloat(t.getAttribute("data-ys-delay"))||0,s=o[a];s&&s.lines.length>0&&e.to(s.lines,{yPercent:0,opacity:1,duration:1.2,stagger:.1,ease:"power4.out",scrollTrigger:{trigger:t,start:"top 100%",toggleActions:"play none none none"},delay:n})}),y.forEach(t=>{const a=t.querySelector("img")||t.querySelector(".ys-simple-image"),n=parseFloat(t.getAttribute("data-ys-delay"))||0,s=e.timeline({scrollTrigger:{trigger:t,start:"top 90%",toggleActions:"play none none none"}});s.to(t,{clipPath:"inset(0% 0% 0% 0%)",duration:1.4,ease:"power4.inOut",delay:n}),a&&s.fromTo(a,{yPercent:40,scale:1.1},{yPercent:0,scale:1,duration:1.8,ease:"expo.out"},"<")}),g.forEach(t=>{const a=parseFloat(t.getAttribute("data-ys-delay"))||0;e.to(t,{y:0,opacity:1,duration:1,ease:"power3.out",scrollTrigger:{trigger:t,start:"top 100%",toggleActions:"play none none none"},delay:a})}),p.forEach(t=>{const a=parseFloat(t.getAttribute("data-ys-delay"))||0;e.to(t,{scaleX:1,duration:1.5,ease:"power3.inOut",scrollTrigger:{trigger:t,start:"top 100%",toggleActions:"play none none none"},delay:a})}),u.forEach(t=>{const a=parseFloat(t.getAttribute("data-ys-delay"))||0;e.to(t,{opacity:1,duration:1.5,ease:"power2.out",scrollTrigger:{trigger:t,start:"top 100%"},delay:a})}),()=>{o.forEach(t=>t.revert())}},{scope:r,dependencies:[i,l]})};export{E as u};
